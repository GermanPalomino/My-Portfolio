<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Historial médico — Clínica MedSalud</title>

  <!-- Icons & Fonts -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" rel="stylesheet"/>

  <!-- CSS global -->
  <link rel="stylesheet" href="../styles/styles.css">
  <!-- CSS de esta página -->
  <link rel="stylesheet" href="../styles/stylesHistoria.css">
</head>
<body>
  <!-- ========== HEADER  ========== -->
  <header class="site-header">
    <div class="header-top container">
      <a class="brand" href="../index.html" aria-label="Inicio">
        <span class="brand-logo" aria-hidden="true"></span>
        <span class="brand-name">Clínica MedSalud</span>
      </a>

      <nav class="user-nav" aria-label="Perfil">
        <button class="avatar-btn" aria-expanded="false" aria-controls="user-menu">
          <i class="fa-solid fa-user"></i>
        </button>
        <ul id="user-menu" class="menu menu-user" role="menu">
          <li role="none"><a role="menuitem" href="#" class="menu-item">Iniciar sesión</a></li>
          <li role="none"><a role="menuitem" href="#" class="menu-item">Registrarse</a></li>
        </ul>
      </nav>

      <button class="nav-toggle" aria-expanded="false" aria-controls="main-nav">
        <span class="nav-toggle-bar"></span>
        <span class="sr-only">Abrir menú</span>
      </button>
    </div>

    <hr class="divider">

    <nav id="main-nav" class="main-nav container" aria-label="Principal">
      <ul class="menu menu-main">
        <li><a class="menu-link" href="../index.html">Inicio</a></li>
        <li><a class="menu-link" href="./clinica.html">La Clínica</a></li>
        <li><a class="menu-link" href="./servicios.html">Servicios</a></li>
        <li><a class="menu-link" href="./situacionesDeEmergencia.html">Emergencias</a></li>
        <li><a class="menu-link" href="./testDiagnostico.html">Test Diagnóstico</a></li>
      </ul>
    </nav>
  </header>

  <section class="sub-hero">
    <div class="container sub-hero-inner">
      <h1 class="sub-hero-title">Historial médico</h1>
      <p class="sub-hero-sub">Información básica del paciente y antecedentes.</p>
    </div>
  </section>

  <!-- ========== MAIN ========== -->
  <main class="container hist-container">
    <form id="historyForm" class="card" method="post" action="" novalidate>
      <!-- Datos personales -->
      <fieldset class="field-group">
        <legend>Datos personales</legend>

        <div class="form-grid">
          <div class="field">
            <label for="fullName">Nombre completo del paciente</label>
            <input class="input" type="text" id="fullName" name="fullName"
              placeholder="Nombres y apellidos" minlength="3" maxlength="50"
              pattern="^[A-Za-zÁÉÍÓÚÜÑáéíóúüñ ]{3,50}$"
              title="Solo letras y espacios (3 a 50 caracteres)" required
              aria-describedby="err-name"/>
            <p id="err-name" class="error" aria-live="polite"></p>
          </div>

          <div class="field">
            <label for="bloodType">Tipo de sangre</label>
            <input class="input" type="text" id="bloodType" name="bloodType"
              placeholder="A+, O-, AB…" minlength="1" maxlength="3"
              pattern="^(A|B|AB|O)[+-]?$"
              title="A, B, AB u O, con + o - opcional" required
              aria-describedby="err-blood"/>
            <p id="err-blood" class="error" aria-live="polite"></p>
          </div>

          <div class="field">
            <label for="age">Edad</label>
            <input class="input" type="number" id="age" name="age" min="1" max="99"
              placeholder="Edad" required aria-describedby="err-age"/>
            <p id="err-age" class="error" aria-live="polite"></p>
          </div>

          <div class="field">
            <label for="birthdate">Fecha de nacimiento</label>
            <input class="input" type="date" id="birthdate" name="birthdate"
              required aria-describedby="err-bdate"/>
            <p id="err-bdate" class="error" aria-live="polite"></p>
          </div>

          <div class="field">
            <label for="city">Lugar de nacimiento</label>
            <select class="input" id="city" name="city" required aria-describedby="err-city">
              <option value="" selected disabled>Seleccione…</option>
              <option>Bogotá</option>
              <option>Cali</option>
              <option>Medellín</option>
              <option>Bucaramanga</option>
              <option>Barrancabermeja</option>
              <option>Santa Marta</option>
              <option>Funza</option>
            </select>
            <p id="err-city" class="error" aria-live="polite"></p>
          </div>

          <div class="field">
            <span class="label">Sexo</span>
            <div class="radio-group">
              <label class="radio"><input type="radio" name="sex" value="Masculino" required><span>Masculino</span></label>
              <label class="radio"><input type="radio" name="sex" value="Femenino"><span>Femenino</span></label>
            </div>
          </div>

          <div class="field">
            <span class="label">Identificación</span>
            <div class="radio-group">
              <label class="radio"><input type="radio" name="idType" value="TI" required><span>TI</span></label>
              <label class="radio"><input type="radio" name="idType" value="CC"><span>CC</span></label>
              <label class="radio"><input type="radio" name="idType" value="Pasaporte"><span>Pasaporte</span></label>
            </div>
          </div>

          <div class="field">
            <label for="idNumber">Número de identificación</label>
            <input class="input" type="text" id="idNumber" name="idNumber"
              inputmode="numeric" pattern="^[0-9]{6,12}$"
              placeholder="6–12 dígitos" required aria-describedby="err-id"/>
            <p id="err-id" class="error" aria-live="polite"></p>
          </div>

          <div class="field">
            <label for="cellphone">Celular</label>
            <input class="input" type="tel" id="cellphone" name="cellphone"
              inputmode="numeric" placeholder="300-000-0000"
              pattern="^\\d{3}[- ]?\\d{3}[- ]?\\d{4}$" required aria-describedby="err-cell"/>
            <p id="err-cell" class="error" aria-live="polite"></p>
          </div>

          <div class="field">
            <label for="address">Domicilio</label>
            <input class="input" type="text" id="address" name="address"
              placeholder="Dirección de residencia" required aria-describedby="err-address"/>
            <p id="err-address" class="error" aria-live="polite"></p>
          </div>
        </div>
      </fieldset>

      <!-- Salud y antecedentes -->
      <fieldset class="field-group">
        <legend>Salud y antecedentes</legend>

        <div class="form-grid">
          <div class="field">
            <span class="label">¿Tiene alergias?</span>
            <div class="radio-group">
              <label class="radio"><input type="radio" name="hasAllergy" value="Si" required><span>Sí</span></label>
              <label class="radio"><input type="radio" name="hasAllergy" value="No"><span>No</span></label>
            </div>
          </div>

          <div class="field">
            <label for="allergyType">¿A cuál?</label>
            <select class="input" id="allergyType" name="allergyType" disabled aria-describedby="err-allergy">
              <option value="" selected disabled>Seleccione…</option>
              <option>Acetaminofén</option>
              <option>Naproxeno</option>
              <option>Paracetamol</option>
              <option>Piroxicam</option>
              <option>Simvastatina</option>
              <option>Alimentos</option>
              <option>Otros</option>
            </select>
            <p id="err-allergy" class="error" aria-live="polite"></p>
          </div>

          <div class="field">
            <label for="height">Estatura (cm)</label>
            <input class="input" type="number" id="height" name="height"
              min="50" max="250" step="0.1" placeholder="Ej: 172.5" required aria-describedby="err-height"/>
            <p id="err-height" class="error" aria-live="polite"></p>
          </div>

          <div class="field">
            <label for="weight">Peso (kg)</label>
            <input class="input" type="number" id="weight" name="weight"
              min="1" max="400" step="0.1" placeholder="Ej: 70.2" required aria-describedby="err-weight"/>
            <p id="err-weight" class="error" aria-live="polite"></p>
          </div>

          <div class="field">
            <span class="label">¿Toma medicamentos habituales?</span>
            <div class="radio-group">
              <label class="radio"><input type="radio" name="takesMeds" value="Si" required><span>Sí</span></label>
              <label class="radio"><input type="radio" name="takesMeds" value="No"><span>No</span></label>
            </div>
          </div>

          <div class="field">
            <label for="medType">¿Cuáles?</label>
            <select class="input" id="medType" name="medType" disabled aria-describedby="err-meds">
              <option value="" selected disabled>Seleccione…</option>
              <option>Omeprazol</option>
              <option>Aspirina</option>
              <option>Paracetamol</option>
              <option>Amlodipina</option>
              <option>Simvastatina</option>
              <option>Otros</option>
            </select>
            <p id="err-meds" class="error" aria-live="polite"></p>
          </div>

          <div class="field">
            <label for="diseases">¿Padece alguna enfermedad?</label>
            <select class="input" id="diseases" name="diseases" multiple size="6">
              <option>Diabetes</option>
              <option>Clamidia</option>
              <option>Anemia</option>
              <option>Hepatitis</option>
              <option>Obesidad</option>
              <option>Cáncer</option>
              <option>Asma</option>
            </select>
          </div>

          <div class="field">
            <span class="label">¿Tiene alguna discapacidad?</span>
            <div class="radio-group">
              <label class="radio"><input type="radio" name="hasDisability" value="Si" required><span>Sí</span></label>
              <label class="radio"><input type="radio" name="hasDisability" value="No"><span>No</span></label>
            </div>
          </div>
        </div>
      </fieldset>

      <div class="actions">
        <button class="btn" type="submit" id="enviar">Enviar datos</button>
      </div>
    </form>
  </main>

  <!-- Modal de confirmación -->
  <dialog id="confirmDialog">
    <form method="dialog" class="dialog-card">
      <h3>Confirmar historial</h3>
      <ul class="resume" id="resumeList"></ul>
      <div class="dialog-actions">
        <button value="cancel" class="btn btn-secondary">Corregir</button>
        <button value="confirm" class="btn">Confirmar y enviar</button>
      </div>
    </form>
  </dialog>

  <!-- ========== FOOTER ========== -->
  <footer class="site-footer">
    <div class="footer-inner container">
      <h2 class="footer-title">Síguenos</h2>
      <div class="social">
        <a class="social-btn" href="#" aria-label="Facebook"><i class="fa-brands fa-facebook-f"></i></a>
        <a class="social-btn" href="#" aria-label="X / Twitter"><i class="fa-brands fa-x-twitter"></i></a>
        <a class="social-btn" href="#" aria-label="Instagram"><i class="fa-brands fa-instagram"></i></a>
      </div>
      <p class="copyright">© <span id="year"></span> Clínica MedSalud. Todos los derechos reservados.</p>
    </div>
  </footer>

  <!-- JS -->
  <script src="../scripts/historialMedico.js"></script>
  <script src="../scripts/main.js"></script>
</body>
</html>